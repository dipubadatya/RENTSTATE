<% layout('/layout/boilerplate')%>


  <style>
    #mid-page1 {
      width: 100vw;
      height: 68vh;

    }

    #mid-page1 img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      /* object-position: center; */
      object-fit: cover;

    }

    #card {
      background-color: #f9f9f9;
      margin: 30px 70px;
      box-shadow: none;
      border-radius: 10px;
      padding: 20px;


    }


    #card-nav {
      background-color: #f9f9f9;
      height: 3rem;
      font-family: sans-serif;
      margin: 30px 70px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      box-shadow: none;
      border-radius: 10px;


    }

    #card-nav h4 {
      font-size: 1.3rem;
      font-weight: 800;

    }

    #card-box {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;

    }

    .card-title {
      font-size: 1.1vw;
      font-weight: bold;

    }

    .card-text {
      font-size: 0.8vw;
      font-weight: 600;
      color: rgba(0, 0, 0, 0.692);
    }

  

    #card-icons{
      width: 100%;
      height: 100px;
    }

    #card-icn-top{
      width: 100%;
      height: 50%;
      display: flex;
    }

    #card-icn-btm{
      width: 100%;
      height: 50%;
      background:rgba(240, 115, 65, 0.57);
      display: flex;
      align-items: center;
      gap: 0.5vw;
      padding-left: 2.2vw;
    }
     #card-icn-btm i{
      font-size: 1vw;
    } 

     #card-icn-btm div h6{
      font-size: 0.7vw;
  
    } 

    #crd-icons{
      width: 50%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: space-evenly;

    }
    #crd-icons i{
      color: orangered;
      font-size: 1.1vw;
      
    } 

#crd-reting{
  width: 50%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: space-evenly;
}


@media (max-width: 425px) {
  #mid-page1 {
    width: 100vw;
    height: 40vh;
    background-color: red;
  
  }
  
  #mid-page1 img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    object-fit: cover;
  
  }
  
  
      #card-nav {
        background-color: #ffffff;
        height: 2rem;
        font-family: sans-serif;
        margin: 30px 70px;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        box-shadow: none;
        border-radius: 10px;
  
  
      }

      #card-nav h4 {
      font-size: 1.5rem;
      font-weight: 750;

    }

    #card {
      background-color: #efefef;
      margin: 30px 70px;
      box-shadow: none;
      border-radius: 10px;
      padding: 15px;
      


    }


#card-box {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;

}

.card-title {
  font-size: 3.3vw;
  font-weight: bold;

}

.card-text {
  font-size:1.8vw;
  font-weight: 600;
  color: rgba(0, 0, 0, 0.692);
}
#card-body{
  width: 600px !important;
  height: 500px;
  /* background-color: red; */
}
  
}
  </style>

  <!-- <form action="/listings/new" method="get"><button>CREATE NEW</button></form> -->


   
   <div id="wraper" style="overflow-x: hidden;">
    <div id="mid-page1">
      <img
        src="https://images.unsplash.com/photo-1717060772956-7f7253648d20?q=80&w=2030&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
        alt="">
    </div>

     <div id="card-nav" class="mt-5">
      WELCOME
   <!-- <form action="/listings/limit" method="get">
f            <input id="input" name="limit" type="text">
  <button>submit</button>
    </form>
 <a href="/listings">refresh</a> -->
    </div> 

    <div id="card">
      <div class="row row-cols-lg-3 mt-3  row-cols-sm-1 "   >
        <% for (listings of allListings){%>
       
        

          <a href=" /listings/<%=listings._id%>" id="card-box">
            <div class="card licard " id="card-body"  style="width: 33rem; " >
              <img src="<%=listings.image.url%>" class="card-img-top" alt="" style="height: 20rem; object-fit: cover;">
              <div class="card-body">
                <h5 class="card-title">
                  <%=listings.title%>
                </h5>
                <p class="card-text">
                  &#8377;<%=listings.price.toLocaleString("en-IN").replace( /\B(?=(\d{3})+(?!\d))/g, "," ) %></p>
                  <!-- /night -->
                   <div id="card-icons">
                    <div id="card-icn-top">
                      <div id="crd-icons">
                        <i class="ri-wifi-line"></i> <i class="ri-restaurant-line"></i><i class="ri-hotel-bed-line"></i>

                      </div>
                      <%for(review of listings.reviews){%>
                      <div id="crd-reting">
                       rating <%=review.ratings%>
                      </div>
                    <%}%>
                    </div>
                    <div id="card-icn-btm">
                      <div><i class="ri-home-smile-line"></i></div> 
                   
                    <div>author <%=listings.owner.username%> </div>
                    </div>
                   </div>

              </div>
            </div>
          </a>

          <%}%>

      </div>
    </div>
  </div>
  </div>
  
  </div>
  